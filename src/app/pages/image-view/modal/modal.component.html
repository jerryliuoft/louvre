@if (currentFile()) {
  <app-image-view [file]="currentFile()!"></app-image-view>
}

@if (hasPrev()) {
  <button mat-icon-button class="nav-button prev-button" (click)="prev()">
    <mat-icon>chevron_left</mat-icon>
  </button>
}

@if (hasNext()) {
  <button mat-icon-button class="nav-button next-button" (click)="next()">
    <mat-icon>chevron_right</mat-icon>
  </button>
}

<div class="filmstrip">
  @for (preview of filmstripWindow; track preview.path) {
    <div 
      class="filmstrip-item" 
      [ngClass]="{'active': preview.path === currentFile()?.path}"
      (click)="currentFile.set(preview)">
      
      @if (isVideo(preview)) {
        <video [src]="preview.handle | objectUrl" muted></video>
      } @else {
        <img [src]="preview.handle | objectUrl" />
      }
    </div>
  }
</div>
